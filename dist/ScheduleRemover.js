(function(){"use strict";var e={};const t={fromHTML:function(e){if(e instanceof Element===false)return"";const t=function(e,n){if(e.nodeType===3){return n+e.textContent.trim()}if(e.nodeName==="TD"&&e.classList.contains("quote_author")){return n}let o="";if(e.nodeName==="BR"){n+="\n"}else if(e.nodeName==="B"){n+="[b]";o="[/b]"}else if(e.nodeName==="I"){n+="[i]";o="[/i]"}else if(e.nodeName==="U"){n+="[u]";o="[/u]"}else if(e.nodeName==="S"){n+="[s]";o="[/s]"}else if(e.nodeName==="TD"&&e.classList.contains("quote_message")){const t=e.parentNode.previousSibling;n+=`[quote${t?"="+t.children[1].textContent.split(" ")[0]:""}]`;o="[/quote]"}else if(e.nodeName==="DIV"&&e.classList.contains("spoiler")){const o=e.children[0];n+=`[spoiler${o.value!=="Spoiler"?"="+o.value:""}]`;return t(e.querySelector("span"),n)+"[/spoiler]"}for(let o=0;o<e.childNodes.length;o++){n=t(e.childNodes[o],n)}return n+o};return t(e,"")}};var n=t;const o={init:function(){console.log("%cScheduleRemover.js %cv0.2","display: inline-block; padding: 4px 0","display: inline-block; padding: 4px; background-color: #2151ae; color: white");console.log("Skrypt stworzony przez %cSzary %c(Plemiona: %cAGH Szary%c)","font-weight: bold","font-weight: normal","font-weight: bold","font-weight: normal");const e=document.querySelector(".memo_script .show_row > td");console.log(n.fromHTML(e));const t=this.parseSchedule(e,e.childNodes);this.createCheckboxes(e,t)},parseSchedule:function(e,t){const n=[];for(let o=0;o<t.length;o++){if(t[o].nodeType===3){const i=t[o].textContent.trim();if(/^\d+\./.test(i)){n.push([]);while(o<t.length&&(t[o].nodeType!==1||t[o].tagName!=="A"||!/Wy\u015blij \w+/.test(t[o].textContent))){n[n.length-1].push(t[o++])}t[o].setAttribute("data-index",n.length-1);t[o].addEventListener("click",(t=>e.querySelector(`#order${t.target.getAttribute("data-index")}`).checked=true));n[n.length-1].push(t[o])}else{e.removeChild(t[o--])}}else{e.removeChild(t[o--])}}console.log(n);return n},createCheckboxes:function(e,t){t.forEach(((t,n)=>{const o=document.createElement("div");o.classList.add("schedule-row");o.style.cssText="display: flex; align-items: center; padding: .5em 0";const i=document.createElement("div");i.classList.add("schedule-checkbox-container");i.innerHTML=`<input type="checkbox" id="order${n}">`;o.appendChild(i);const s=document.createElement("div");s.classList.add("schedule-content-container");t.forEach((e=>s.appendChild(e)));o.appendChild(s);e.appendChild(o)}))}};o.init()})();